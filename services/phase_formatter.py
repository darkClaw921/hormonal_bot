"""–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ñ–∞–∑–∞—Ö –º–µ–Ω—Å—Ç—Ä—É–∞–ª—å–Ω–æ–≥–æ —Ü–∏–∫–ª–∞."""
from typing import Optional
from services.cycle_service import CyclePhase, PhaseInfo


class PhaseFormatter:
    """–ö–ª–∞—Å—Å –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ñ–∞–∑–∞—Ö —Ü–∏–∫–ª–∞."""
    
    # –î–∞–Ω–Ω—ã–µ –æ —Ñ–∞–∑–∞—Ö –∏–∑ markdown —Ñ–∞–π–ª–∞
    PHASE_DATA = {
        CyclePhase.MENSTRUAL: {
            "name": "–ú–µ–Ω—Å—Ç—Ä—É–∞–ª—å–Ω–∞—è —Ñ–∞–∑–∞",
            "emoji": "üåô",
            "description": "–ü–∏—Ç–∞—Ç–µ–ª—å–Ω–∞—è –ø–∏—â–∞ –∏ —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ",
            "general_description": (
                "–£—Ä–æ–≤–µ–Ω—å –≥–æ—Ä–º–æ–Ω–æ–≤ –Ω–∏–∑–∫–∏–π, –Ω–æ —Ä–∞—Å—Ç–µ—Ç —É—Ä–æ–≤–µ–Ω—å –§–°–ì, —Å–ª–∏–∑–∏—Å—Ç–∞—è –æ—Ç—Å–ª–∞–∏–≤–∞–µ—Ç—Å—è –æ—Ç —Å—Ç–µ–Ω–æ–∫ –º–∞—Ç–∫–∏. "
                "–ù—É–∂–Ω–æ —É–≤–µ–ª–∏—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ç—Ä–µ–±–ª—è–µ–º–æ–π –∂–∏–¥–∫–æ—Å—Ç–∏, –º–æ–∂–Ω–æ –ø–æ–≤—ã—Å–∏—Ç—å –∫–∞–ª–æ—Ä–∞–∂. "
                "–°–Ω–∏–∂–∞–µ—Ç—Å—è –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è –≥–µ–º–æ–≥–ª–æ–±–∏–Ω–∞ –∏ —ç—Ä–∏—Ç—Ä–æ—Ü–∏—Ç–æ–≤."
            ),
            "wellbeing": (
                "–í–æ–∑–º–æ–∂–Ω–∞ –≥–æ–ª–æ–≤–Ω–∞—è –±–æ–ª—å; –ø–æ–≤—ã—à–∞–µ—Ç—Å—è —Ä–∞–∑–¥—Ä–∞–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –Ω–µ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å; "
                "—Å–ø–∞–∑–º –≤–Ω–∏–∑—É –∂–∏–≤–æ—Ç–∞; –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ; —Å —Ç—Ä–µ—Ç—å–µ–≥–æ –¥–Ω—è —Å–∞–º–æ—á—É–≤—Å—Ç–≤–∏–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç –≤ –Ω–æ—Ä–º—É."
            ),
            "physical_activity": (
                "–í–æ –≤—Ä–µ–º—è –º–µ–Ω—Å—Ç—Ä—É–∞—Ü–∏–∏ –∏–¥–µ—Ç –∫—Ä–æ–≤–æ–ø–æ—Ç–µ—Ä—è, –º–æ–≥—É—Ç –æ—â—É—â–∞—Ç—å—Å—è —Å–ø–∞–∑–º—ã, –≤–∑–¥—É—Ç–∏–µ –∂–∏–≤–æ—Ç–∞, –±–æ–ª–∏. "
                "–õ–µ–≥–∫–∏–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –º–æ–≥—É—Ç –ø–æ–º–æ—á—å, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–∏ –∑–∞—Å—Ç–∞–≤–ª—è—é—Ç –º–æ–∑–≥ –≤—ã–¥–µ–ª—è—Ç—å —ç–Ω–¥–æ—Ä—Ñ–∏–Ω—ã. "
                "–í –ø–µ—Ä–≤—ã–µ –¥–Ω–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–Ω—ã –¥—ã—Ö–∞—Ç–µ–ª—å–Ω—ã–µ –∏ –º–µ–¥–∏—Ç–∞—Ç–∏–≤–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏."
            ),
            "workout_intensity": "—Å—Ä–µ–¥–Ω—è—è",
            "exercises": [
                "–ô–æ–≥–∞: –ø–æ–∑–∞ —Ä–µ–±–µ–Ω–∫–∞, –∫–æ—à–∫–∞-–∫–æ—Ä–æ–≤–∞, –º—è–≥–∫–∏–µ —Å–∫—Ä—É—á–∏–≤–∞–Ω–∏—è",
                "–†–∞—Å—Ç—è–∂–∫–∞: –ª–µ–≥–∫–∞—è —Ä–∞—Å—Ç—è–∂–∫–∞ –¥–ª—è —Ä–∞—Å—Å–ª–∞–±–ª–µ–Ω–∏—è –º—ã—à—Ü –∂–∏–≤–æ—Ç–∞ –∏ –ø–æ—è—Å–Ω–∏—Ü—ã"
            ],
            "nutrition": [
                "–í–∏—Ç–∞–º–∏–Ω –°: –±—Ä–æ–∫–∫–æ–ª–∏, –∫–∏–≤–∏, –±–æ–ª–≥–∞—Ä—Å–∫–∏–π –ø–µ—Ä–µ—Ü, –ø–∞–ø—Ä–∏–∫–∞, –≥—Ä–∞–Ω–∞—Ç, —à–ø–∏–Ω–∞—Ç",
                "–í–∏—Ç–∞–º–∏–Ω –í12: —è–π—Ü–∞, –≥–æ–≤—è–∂—å—è –ø–µ—á–µ–Ω—å, —Ç–≤–æ—Ä–æ–≥",
                "–ñ–µ–ª–µ–∑–æ: –º—è—Å–æ, –ø—Ç–∏—Ü–∞, –ø–µ—á–µ–Ω—å, –±–æ–±–æ–≤—ã–µ, —É—Å—Ç—Ä–∏—Ü—ã",
                "–ñ–∏—Ä—ã: —Ö–æ–ª–æ–¥–µ—Ü, –≥—É—Å–∏–Ω—ã–π –∂–∏—Ä"
            ],
            "partner_advice": (
                "–ö–∞–∫ –ú–∞—Å—Å–∞–∂–∏—Å—Ç –∏ –ª—é–±—è—â–∏–π –ø–æ–Ω–∏–º–∞—é—â–∏–π –º—É–∂—á–∏–Ω–∞. "
                "–í —ç—Ç–æ—Ç –ø–µ—Ä–∏–æ–¥ –∂–µ–Ω—â–∏–Ω—ã –º–æ–≥—É—Ç –∏—Å–ø—ã—Ç—ã–≤–∞—Ç—å —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π –¥–∏—Å–∫–æ–º—Ñ–æ—Ä—Ç –∏ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é –Ω–µ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å. "
                "–í–∞–∂–Ω–æ –±—ã—Ç—å –æ—Å–æ–±–µ–Ω–Ω–æ –Ω–µ–∂–Ω—ã–º –∏ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã–º."
            )
        },
        CyclePhase.POSTMENSTRUAL: {
            "name": "–ü–æ—Å—Ç–º–µ–Ω—Å—Ç—Ä—É–∞–ª—å–Ω–∞—è (—ç—Å—Ç—Ä–æ–≥–µ–Ω–Ω–∞—è) —Ñ–∞–∑–∞",
            "emoji": "üå±",
            "description": "–í—Ä–µ–º—è —Ä–æ—Å—Ç–∞ —ç–Ω–µ—Ä–≥–∏–∏ –∏ –Ω–æ–≤—ã—Ö –Ω–∞—á–∏–Ω–∞–Ω–∏–π",
            "general_description": (
                "–ù–∞—á–∏–Ω–∞–µ—Ç—Å—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –æ–≤—É–ª—è—Ü–∏–∏: —É—Ä–æ–≤–µ–Ω—å —ç—Å—Ç—Ä–æ–≥–µ–Ω–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç —Ä–∞—Å—Ç–∏, "
                "–ø–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞—è —ç–Ω–¥–æ–º–µ—Ç—Ä–∏–π –∫ –≤–æ–∑–º–æ–∂–Ω–æ–π –±–µ—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç–∏. "
                "–≠—Ç–æ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ –≤–ª–∏—è–µ—Ç –Ω–∞ –≤—ã—Ä–∞–±–æ—Ç–∫—É —Å–µ—Ä–æ—Ç–æ–Ω–∏–Ω–∞ (–≥–æ—Ä–º–æ–Ω–∞ —Ä–∞–¥–æ—Å—Ç–∏)."
            ),
            "wellbeing": (
                "–ü—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–¥—ä–µ–º, –ø–æ—è–≤–ª—è—é—Ç—Å—è —Å–∏–ª—ã, —Ä–∞—Å—Ç–µ—Ç —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å, "
                "–≤ –≥–æ–ª–æ–≤–µ –∏–¥–µ–∏, –∞ –≤ —Ç–µ–ª–µ –ª—ë–≥–∫–æ—Å—Ç—å. –•–æ—Ä–æ—à–æ –Ω–∞—á–∏–Ω–∞—Ç—å –Ω–æ–≤–æ–µ: —É—á–∏—Ç—å—Å—è, –ø—Ä–æ–±–æ–≤–∞—Ç—å, —Å—Ç—Ä–æ–∏—Ç—å –ø–ª–∞–Ω—ã."
            ),
            "physical_activity": (
                "–ú–µ–¥–ª–µ–Ω–Ω—ã–π —Ä–æ—Å—Ç —É—Ä–æ–≤–Ω—è —ç—Å—Ç—Ä–æ–≥–µ–Ω–∞ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –≤—ã –ø–æ—á—É–≤—Å—Ç–≤—É–µ—Ç–µ —Å–µ–±—è –±–æ–ª–µ–µ —Å–ø–æ—Å–æ–±–Ω—ã–º "
                "–∏ –º–æ—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –¥–ª—è –∑–∞–Ω—è—Ç–∏–π —Å–ø–æ—Ä—Ç–æ–º. –ù–∞–ø—Ä–∞–≤—å—Ç–µ —Å–≤–æ—é –≤–æ–∑—Ä–æ—Å—à—É—é —ç–Ω–µ—Ä–≥–∏—é –Ω–∞ –±–æ–ª–µ–µ "
                "–∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω—ã–µ –∞–Ω–∞—ç—Ä–æ–±–Ω—ã–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è, —Ç–∞–∫–∏–µ –∫–∞–∫ –∑–∞–Ω—è—Ç–∏—è –ù–¢, –∏–Ω—Ç–µ—Ä–≤–∞–ª—å–Ω—ã–µ —Å–ø—Ä–∏–Ω—Ç—ã –∏ —Å–∏–ª–æ–≤—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏."
            ),
            "workout_intensity": "–±–æ–ª—å—à–∞—è",
            "exercises": [
                "–ü–∏–ª–∞—Ç–µ—Å: —É–∫—Ä–µ–ø–ª–µ–Ω–∏–µ –≥–ª—É–±–æ–∫–∏—Ö –º—ã—à—Ü —Ç–∞–∑–æ–≤–æ–≥–æ –¥–Ω–∞",
                "–ö–∞—Ä–¥–∏–æ: –ª–µ–≥–∫–∏–π –±–µ–≥, —Ç–∞–Ω—Ü—ã, HIIT –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç–∏"
            ],
            "nutrition": [
                "–§–µ—Ä–º–µ–Ω—Ç–Ω–∞—è –µ–¥–∞: –∫–∞–ø—É—Å—Ç–∞, –∫–æ–º–±—É—á–∞, –ö–ò–ú–ß–ò",
                "–ê–Ω—Ç–∏–æ–∫—Å–∏–¥–∞–Ω—Ç—ã: —è–≥–æ–¥—ã, –≥—Ä–∞–Ω–∞—Ç, —à–ø–∏–Ω–∞—Ç",
                "–§–∏—Ç–æ—ç—Å—Ç—Ä–æ–≥–µ–Ω—ã: —Å–µ–º–µ–Ω–∞, –±–æ–±–æ–≤—ã–µ",
                "–ñ–µ–ª–µ–∑–æ: –ø–µ—á–µ–Ω—å, –ø–æ—á–∫–∏, –∫—Ä–æ–ª—å—á–∞—Ç–∏–Ω–∞, —à–ø–∏–Ω–∞—Ç, –±–æ–±–æ–≤—ã–µ"
            ],
            "partner_advice": (
                "–ü–∞—Ä—Ç–Ω–µ—Ä. –≠—Ç–æ –≤—Ä–µ–º—è, –∫–æ–≥–¥–∞ —É—Ä–æ–≤–µ–Ω—å —ç–Ω–µ—Ä–≥–∏–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è –æ–±—ã—á–Ω–æ –ø–æ–≤—ã—à–∞–µ—Ç—Å—è. "
                "–ñ–µ–Ω—â–∏–Ω—ã —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –±–æ–ª–µ–µ –∞–∫—Ç–∏–≤–Ω—ã–º–∏ –∏ –æ—Ç–∫—Ä—ã—Ç—ã–º–∏ –¥–ª—è –Ω–æ–≤—ã—Ö –Ω–∞—á–∏–Ω–∞–Ω–∏–π."
            )
        },
        CyclePhase.OVULATORY: {
            "name": "–û–≤—É–ª—è—Ç–æ—Ä–Ω–∞—è —Ñ–∞–∑–∞",
            "emoji": "‚ú®",
            "description": "–ü–∏–∫ —ç–Ω–µ—Ä–≥–∏–∏ –∏ –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏",
            "general_description": (
                "–ù–∞—á–∏–Ω–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ —Ñ–æ–ª–ª–∏–∫—É–ª—è—Ä–Ω–æ–π —Ñ–∞–∑—ã. –ö —ç—Ç–æ–º—É –º–æ–º–µ–Ω—Ç—É –≤ –æ—Ä–≥–∞–Ω–∏–∑–º–µ –Ω–∞–∫–∞–ø–ª–∏–≤–∞–µ—Ç—Å—è "
                "–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è —ç—Å—Ç—Ä–æ–≥–µ–Ω–∞. –§–æ–ª–ª–∏–∫—É–ª –ª–æ–ø–∞–µ—Ç—Å—è –∏ —è–π—Ü–µ–∫–ª–µ—Ç–∫–∞ –≤—ã—Ö–æ–¥–∏—Ç –≤ –±—Ä—é—à–Ω—É—é –ø–æ–ª–æ—Å—Ç—å."
            ),
            "wellbeing": (
                "–û–±—â–µ–Ω–∏–µ –¥–∞—ë—Ç—Å—è –ª–µ–≥–∫–æ, –∫–æ–º–º—É–Ω–∏–∫–∞—Ç–∏–≤–Ω–æ—Å—Ç—å, —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å. –≠—Ç–æ –ª—É—á—à–µ–µ –≤—Ä–µ–º—è –¥–ª—è –≤—Å—Ç—Ä–µ—á, "
                "–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–π, –¥–∞–∂–µ —Å–ª–æ–∂–Ω—ã–µ —Ä–∞–∑–≥–æ–≤–æ—Ä—ã –ø—Ä–æ—Ö–æ–¥—è—Ç –º—è–≥—á–µ."
            ),
            "physical_activity": (
                "–í—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å —ç—Å—Ç—Ä–æ–≥–µ–Ω–∞ –¥–∞–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é —ç–Ω–µ—Ä–≥–∏—é, –ø–æ–≤—ã—à–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ. "
                "–í—ã –º–æ–∂–µ—Ç–µ —á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å —Å–µ–±—è —Å–∏–ª—å–Ω–µ–µ –∏–ª–∏ –ª—É—á—à–µ –Ω–∞—Ä–∞—â–∏–≤–∞—Ç—å –º—ã—à–µ—á–Ω—É—é –º–∞—Å—Å—É. "
                "–≠—Ç–∞ —Ñ–∞–∑–∞ –æ—Ç–ª–∏—á–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç–∏. "
                "–û–¥–Ω–∞–∫–æ –Ω—É–∂–Ω–æ –æ—Å—Ç–µ—Ä–µ–≥–∞—Ç—å—Å—è —á—Ä–µ–∑–º–µ—Ä–Ω–æ–≥–æ —Ä–∞—Å—Ç—è–∂–µ–Ω–∏—è —Å—É—Å—Ç–∞–≤–æ–≤ - –æ–Ω–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –±–æ–ª–µ–µ –≥–∏–±–∫–∏–º–∏ –∏ –º–µ–Ω–µ–µ —Å—Ç–∞–±–∏–ª—å–Ω—ã–º–∏."
            ),
            "workout_intensity": "—Å—Ä–µ–¥–Ω—è—è",
            "exercises": [
                "–¢–∞–Ω—Ü—ã: –∞–∫—Ç–∏–≤–Ω—ã–µ –¥–≤–∏–∂–µ–Ω–∏—è –¥–ª—è —Å—Ç–∏–º—É–ª—è—Ü–∏–∏ –ø–æ—Ç–æ–∫–∞ –¶–∏",
                "–ô–æ–≥–∞: –ø–æ–∑–∞ –≤–æ–∏–Ω–∞, –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ —Å–æ–ª–Ω—Ü—É –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è —ç–Ω–µ—Ä–≥–∏–∏"
            ],
            "nutrition": [
                "–û—Ä–µ—Ö–∏ —Å –≤—ã—Å–æ–∫–∏–º —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ–º –∫–ª–µ—Ç—á–∞—Ç–∫–∏: –º–∏–Ω–¥–∞–ª—å, —Ñ–∏—Å—Ç–∞—à–∫–∏, –ø–µ–∫–∞–Ω",
                "–ú–∞–≥–Ω–∏–π: —Å–µ–º–µ–Ω–∞ —á–∏–∞, —Å—ã—Ä",
                "–¶–∏–Ω–∫: —É—Å—Ç—Ä–∏—Ü—ã, –º—è—Å–æ, –ø–µ—á–µ–Ω—å, —Ä–∏—Å–æ–≤—ã–µ –æ—Ç—Ä—É–±–∏, –º–æ—Ä–∫–æ–≤—å",
                "–í–∏—Ç–∞–º–∏–Ω –ê: —Ç—ã–∫–≤–∞, —Ö—É—Ä–º–∞, —Å–ª–∏–≤–æ—á–Ω–æ–µ –º–∞—Å–ª–æ"
            ],
            "partner_advice": (
                "–ö–∞–∫ —Ä–∞–∑–±–æ–π–Ω–∏–∫. –í–æ –≤—Ä–µ–º—è –æ–≤—É–ª—è—Ü–∏–∏ –∂–µ–Ω—â–∏–Ω—ã –º–æ–≥—É—Ç —á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å —Å–µ–±—è –±–æ–ª–µ–µ –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–º–∏ "
                "–∏ —É–≤–µ—Ä–µ–Ω–Ω–æ. –≠—Ç–æ –≤—Ä–µ–º—è, –∫–æ–≥–¥–∞ –º–æ–∂–Ω–æ –±—ã—Ç—å –Ω–µ–º–Ω–æ–≥–æ –±–æ–ª–µ–µ –Ω–∞—Å—Ç–æ–π—á–∏–≤—ã–º –∏ —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–º."
            )
        },
        CyclePhase.POSTOVULATORY: {
            "name": "–ü–æ—Å—Ç–æ–≤—É–ª—è—Ç–æ—Ä–Ω–∞—è (–ø—Ä–æ–≥–µ—Å—Ç–µ—Ä–æ–Ω–Ω–∞—è) —Ñ–∞–∑–∞",
            "emoji": "üçÇ",
            "description": "–§–∞–∑–∞ —Å–æ–±—Ä–∞–Ω–Ω–æ—Å—Ç–∏ –∏ —Å–ø–æ–∫–æ–π–Ω–æ–π –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏",
            "general_description": (
                "–í —Ç–µ—á–µ–Ω–∏–µ –ø–µ—Ä–≤—ã—Ö –¥–Ω–µ–π —è–π—Ü–µ–∫–ª–µ—Ç–∫–∞ –¥–≤–∏–∂–µ—Ç—Å—è –ø–æ —Ñ–∞–ª–ª–æ–ø–∏–µ–≤–æ–π —Ç—Ä—É–±–µ –¥–ª—è –æ–ø–ª–æ–¥–æ—Ç–≤–æ—Ä–µ–Ω–∏—è. "
                "–ñ–µ–ª—Ç–æ–µ —Ç–µ–ª–æ –≤—ã—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–æ–≥–µ—Å—Ç–µ—Ä–æ–Ω (–≥–æ—Ä–º–æ–Ω –±–µ—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç–∏), –∞–Ω–¥—Ä–æ–≥–µ–Ω—ã –∏ —ç—Å—Ç—Ä–∞–¥–∏–æ–ª."
            ),
            "wellbeing": (
                "–≠–Ω–µ—Ä–≥–∏—è —Ä–æ–≤–Ω–∞—è, –±–µ–∑ –≤—Å–ø–ª–µ—Å–∫–æ–≤. –•–æ—á–µ—Ç—Å—è –ø–æ—Ä—è–¥–∫–∞ ‚Äî –Ω–∞–≤–µ—Å—Ç–∏ –¥–æ–º–∞ —É—é—Ç, —Ä–∞–∑–æ–±—Ä–∞—Ç—å –¥–µ–ª–∞, "
                "–¥–æ–≤–µ—Å—Ç–∏ –Ω–∞—á–∞—Ç–æ–µ. –≠—Ç–æ —Ñ–∞–∑–∞ —Å–æ–±—Ä–∞–Ω–Ω–æ—Å—Ç–∏ –∏ —Å–ø–æ–∫–æ–π–Ω–æ–π –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏."
            ),
            "physical_activity": (
                "–£–º–µ—Ä–µ–Ω–Ω—ã–µ —Ñ–∏–∑–∏—á–µ—Å–∫–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –≤—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å —ç–Ω–¥–æ—Ä—Ñ–∏–Ω–æ–≤ –∏ "
                "—Å–Ω–∏–∂–∞—é—Ç —É—Ä–æ–≤–µ–Ω—å —Å—Ç—Ä–µ—Å—Å–∞, —Ö–æ—Ä–æ—à–∏ ‚Äî –±–µ–≥ —Ç—Ä—É—Å—Ü–æ–π –∏ —Ç–∞–Ω—Ü–µ–≤–∞–ª—å–Ω—ã–µ —Ñ–∏—Ç–Ω–µ—Å-–∫–ª–∞—Å—Å—ã. "
                "–ó–∞–π–º–∏—Ç–µ—Å—å –º–µ–¥–ª–µ–Ω–Ω–æ–π –π–æ–≥–æ–π. –ò–∑-–∑–∞ –∫–æ–ª–µ–±–∞–Ω–∏–π —É—Ä–æ–≤–Ω—è –ø—Ä–æ–≥–µ—Å—Ç–µ—Ä–æ–Ω–∞ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –Ω–∞ –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å "
                "–º–æ–≥—É—Ç –æ–∫–∞–∑–∞—Ç—å—Å—è –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–º–∏."
            ),
            "workout_intensity": "—É–º–µ—Ä–µ–Ω–Ω–∞—è",
            "exercises": [
                "–ú–µ–¥–ª–µ–Ω–Ω–∞—è –π–æ–≥–∞ –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è —Å—Ç—Ä–µ—Å—Å–∞",
                "–ë–µ–≥ —Ç—Ä—É—Å—Ü–æ–π –∏ —Ç–∞–Ω—Ü–µ–≤–∞–ª—å–Ω—ã–µ —Ñ–∏—Ç–Ω–µ—Å-–∫–ª–∞—Å—Å—ã"
            ],
            "nutrition": [
                "–°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø–∏—Ç–∞–Ω–∏–µ —Å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –±–µ–ª–∫–∞",
                "–°–ª–æ–∂–Ω—ã–µ —É–≥–ª–µ–≤–æ–¥—ã –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è —ç–Ω–µ—Ä–≥–∏–∏",
                "–û–≤–æ—â–∏ –∏ —Ñ—Ä—É–∫—Ç—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤–∏—Ç–∞–º–∏–Ω–æ–≤"
            ],
            "partner_advice": (
                "–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ —Ä–æ–≤–Ω—É—é —ç–Ω–µ—Ä–≥–∏—é. –≠—Ç–æ –≤—Ä–µ–º—è –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–Ω—ã—Ö —Å–ø–æ–∫–æ–π–Ω—ã—Ö –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π "
                "–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –Ω–∞—á–∞—Ç—ã—Ö –¥–µ–ª."
            )
        },
        CyclePhase.PMS: {
            "name": "–ü—Ä–µ–¥–º–µ–Ω—Å—Ç—Ä—É–∞–ª—å–Ω—ã–π –ø–µ—Ä–∏–æ–¥ (–ü–ú–°)",
            "emoji": "üåä",
            "description": "–í—Ä–µ–º—è –∑–∞–º–µ–¥–ª–∏—Ç—å—Å—è –∏ –±—ã—Ç—å –º—è–≥–∫–æ–π –∫ —Å–µ–±–µ",
            "general_description": (
                "–ü–æ—Å–ª–µ–¥–Ω–∏–µ 3-7 –¥–Ω–µ–π –ª—é—Ç–µ–∏–Ω–æ–≤–æ–π —Ñ–∞–∑—ã. –ï—Å–ª–∏ –∑–∞—á–∞—Ç–∏–µ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, —Ç–æ –∂–µ–ª—Ç–æ–µ —Ç–µ–ª–æ "
                "–ø—Ä–µ–∫—Ä–∞—â–∞–µ—Ç –≤—ã—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø–æ–ª–æ–≤—ã–µ –≥–æ—Ä–º–æ–Ω—ã. –†–∞—Å—Ç–µ—Ç –õ–ì –∏ –§–°–ì, –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π —Ü–∏–∫–ª –º–µ–Ω—Å—Ç—Ä—É–∞—Ü–∏–∏."
            ),
            "wellbeing": (
                "–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –∫–æ–ª–µ–±–ª–µ—Ç—Å—è, —Ç–µ–ª–æ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º, –≤–∞–∂–Ω–æ –Ω–µ –±–æ—Ä–æ—Ç—å—Å—è –∞ –∑–∞–º–µ–¥–ª–∏—Ç—å—Å—è. "
                "–≠—Ç–æ –Ω–µ –≤—Ä–µ–º—è –ø–æ–¥–≥–æ–Ω—è—Ç—å —Å–µ–±—è, –∞ –≤—Ä–µ–º—è –∑–∞–º–µ–¥–ª–∏—Ç—å—Å—è. –í–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –∫ –ø—Ä–∏–Ω—Ü–∏–ø—É 15% –∏ –¥–µ–ª–∞–µ–º "
                "—Ç–æ–ª—å–∫–æ —Å–∞–º—ã–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–¥–∞—á–∏."
            ),
            "physical_activity": (
                "–ü–æ–≤—ã—à–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è –ø—Ä–æ–≥–µ—Å—Ç–µ—Ä–æ–Ω–∞ –ø–æ–≤—ã—à–∞–µ—Ç —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É —Ç–µ–ª–∞ –∏ —á–∞—Å—Ç–æ—Ç—É —Å–µ—Ä–¥–µ—á–Ω—ã—Ö —Å–æ–∫—Ä–∞—â–µ–Ω–∏–π. "
                "–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –Ω–∞ –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å –º–æ–≥—É—Ç –ø–æ–∫–∞–∑–∞—Ç—å—Å—è –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–º–∏. –í—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ —á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å "
                "—Å–µ–±—è –±–æ–ª–µ–µ —Å–æ–Ω–ª–∏–≤—ã–º, —á—Ç–æ –º–æ–∂–µ—Ç –ø–æ–≤–ª–∏—è—Ç—å –Ω–∞ –≤–∞—à—É –º–æ—Ç–∏–≤–∞—Ü–∏—é –∫ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è–º."
            ),
            "workout_intensity": "–º–∞–ª–∞—è",
            "exercises": [
                "–ô–æ–≥–∞: –ø–æ–∑–∞ –≥–æ–ª—É–±—è, –ø–æ–∑–∞ –±–∞–±–æ—á–∫–∏ –¥–ª—è —Ä–∞—Å—Å–ª–∞–±–ª–µ–Ω–∏—è —Ç–∞–∑–æ–≤—ã—Ö –º—ã—à—Ü",
                "–ü–∏–ª–∞—Ç–µ—Å: –¥—ã—Ö–∞—Ç–µ–ª—å–Ω—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏ (–ø—Ä–∞–Ω–∞—è–º–∞) –¥–ª—è —É—Å–ø–æ–∫–æ–µ–Ω–∏—è –Ω–µ—Ä–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã"
            ],
            "nutrition": [
                "–û–º–µ–≥–∞ 3: –ø–µ—á–µ–Ω—å —Ç—Ä–µ—Å–∫–∏, –∫—É–Ω–∂—É—Ç, –æ–ª–∏–≤–∫–æ–≤–æ–µ –º–∞—Å–ª–æ, –ª—å–Ω—è–Ω–æ–µ –º–∞—Å–ª–æ, –≥—Ä–µ—Ü–∫–∏–µ –æ—Ä–µ—Ö–∏",
                "–í–∏—Ç–∞–º–∏–Ω –í6: –±–æ–±–æ–≤—ã–µ, —á–µ—á–µ–≤–∏—Ü–∞, –±–∞–Ω–∞–Ω, —Ñ—É–Ω–¥—É–∫, –∞–≤–æ–∫–∞–¥–æ",
                "–ú–∞–≥–Ω–∏–π: —Å—ã—Ä, —Å–µ–º–µ–Ω–∞ —á–∏–∞, —Ç—ã–∫–≤–µ–Ω–Ω—ã–µ —Å–µ–º–µ—á–∫–∏",
                "–í–∏—Ç–∞–º–∏–Ω –°: –±—Ä–æ–∫–∫–æ–ª–∏, –∫–∏–≤–∏, –±–æ–ª–≥–∞—Ä—Å–∫–∏–π –ø–µ—Ä–µ—Ü, –ø–∞–ø—Ä–∏–∫–∞, –º–æ—Ä–æ—à–∫–∞, —à–ø–∏–Ω–∞—Ç"
            ],
            "partner_advice": (
                "–†—ã—Ü–∞—Ä—å —Å —Ç–æ–Ω–Ω–æ–π —à–æ–∫–æ–ª–∞–¥–æ–∫ –∏ –æ–±–Ω–∏–º–∞—à–µ–∫ –≤ —Ä—é–∫–∑–∞–∫–µ. –≠—Ç–æ—Ç –ø–µ—Ä–∏–æ–¥ —á–∞—Å—Ç–æ –∞—Å—Å–æ—Ü–∏–∏—Ä—É–µ—Ç—Å—è "
                "—Å –ø—Ä–µ–¥–º–µ–Ω—Å—Ç—Ä—É–∞–ª—å–Ω—ã–º —Å–∏–Ω–¥—Ä–æ–º–æ–º (–ü–ú–°), –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫–æ–ª–µ–±–∞–Ω–∏—è, "
                "—Ä–∞–∑–¥—Ä–∞–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π –¥–∏—Å–∫–æ–º—Ñ–æ—Ä—Ç. –í–∞–∂–Ω–æ –±—ã—Ç—å —Ç–µ—Ä–ø–µ–ª–∏–≤—ã–º –∏ –Ω–µ–∂–Ω—ã–º."
            )
        }
    }
    
    @staticmethod
    def format_phase_info(phase_info: PhaseInfo, include_partner_advice: bool = False) -> str:
        """
        –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ñ–∞–∑–µ —Ü–∏–∫–ª–∞ –≤ —á–∏—Ç–∞–µ–º—ã–π —Ç–µ–∫—Å—Ç.
        
        Args:
            phase_info: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–∞–∑–µ —Ü–∏–∫–ª–∞
            include_partner_advice: –í–∫–ª—é—á–∞—Ç—å –ª–∏ —Å–æ–≤–µ—Ç—ã –¥–ª—è –ø–∞—Ä—Ç–Ω–µ—Ä–∞
            
        Returns:
            –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Ñ–∞–∑–µ
        """
        if phase_info is None:
            return "‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ñ–∞–∑—É —Ü–∏–∫–ª–∞."
        
        phase_data = PhaseFormatter.PHASE_DATA.get(phase_info.phase)
        if phase_data is None:
            return f"‚ùå –§–∞–∑–∞ '{phase_info.phase}' –Ω–µ –Ω–∞–π–¥–µ–Ω–∞."
        
        # –§–æ—Ä–º–∏—Ä—É–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π –∑–∞–≥–æ–ª–æ–≤–æ–∫
        text_parts = [
            f"{phase_data['emoji']} *{phase_data['name']}*",
            f"_{phase_data['description']}_\n",
            f"üìÖ –î–µ–Ω—å —Ü–∏–∫–ª–∞: {phase_info.day_number}/{phase_info.cycle_length}",
            f"üìä –§–∞–∑–∞: {phase_info.phase_start_day}-{phase_info.phase_end_day} –¥–µ–Ω—å\n"
        ]
        
        # –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
        text_parts.append(f"*–û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ:*\n{phase_data['general_description']}\n")
        
        # –°–∞–º–æ—á—É–≤—Å—Ç–≤–∏–µ
        text_parts.append(f"*–°–∞–º–æ—á—É–≤—Å—Ç–≤–∏–µ:*\n{phase_data['wellbeing']}\n")
        
        # –§–∏–∑–∏—á–µ—Å–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
        text_parts.append(f"*–§–∏–∑–∏—á–µ—Å–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:*\n{phase_data['physical_activity']}\n")
        
        # –¢—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞
        text_parts.append(f"*–¢—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞:* {phase_data['workout_intensity']}\n")
        
        # –ö–æ–º–ø–ª–µ–∫—Å —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π
        if phase_data['exercises']:
            text_parts.append("*–ö–æ–º–ø–ª–µ–∫—Å —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π:*")
            for exercise in phase_data['exercises']:
                text_parts.append(f"‚Ä¢ {exercise}")
            text_parts.append("")
        
        # –ü–∏—Ç–∞–Ω–∏–µ
        if phase_data['nutrition']:
            text_parts.append("*–ü–∏—Ç–∞–Ω–∏–µ:*")
            for item in phase_data['nutrition']:
                text_parts.append(f"‚Ä¢ {item}")
            text_parts.append("")
        
        # –°–æ–≤–µ—Ç—ã –¥–ª—è –ø–∞—Ä—Ç–Ω–µ—Ä–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
        if include_partner_advice:
            text_parts.append(f"*–°–æ–≤–µ—Ç—ã –¥–ª—è –ø–∞—Ä—Ç–Ω–µ—Ä–∞:*\n{phase_data['partner_advice']}")
        
        return "\n".join(text_parts)
    
    @staticmethod
    def format_short_phase_info(phase_info: PhaseInfo) -> str:
        """
        –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –∫—Ä–∞—Ç–∫—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ñ–∞–∑–µ —Ü–∏–∫–ª–∞.
        
        Args:
            phase_info: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–∞–∑–µ —Ü–∏–∫–ª–∞
            
        Returns:
            –ö—Ä–∞—Ç–∫–∏–π –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç
        """
        if phase_info is None:
            return "‚ùå –§–∞–∑–∞ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞"
        
        phase_data = PhaseFormatter.PHASE_DATA.get(phase_info.phase)
        if phase_data is None:
            return f"‚ùå –§–∞–∑–∞ '{phase_info.phase}' –Ω–µ –Ω–∞–π–¥–µ–Ω–∞"
        
        return (
            f"{phase_data['emoji']} *{phase_data['name']}*\n"
            f"üìÖ –î–µ–Ω—å {phase_info.day_number}/{phase_info.cycle_length}\n"
            f"üí™ –ù–∞–≥—Ä—É–∑–∫–∞: {phase_data['workout_intensity']}"
        )
